var NotImplementedException=exports.NotImplementedException=function(e){e=e?e+" ":"",this.prototype=Error.prototype,this.name="NotImplementedException",this.message="Method "+e+"is not implemented",this.toString=function(){return this.name+": "+this.message}};exports.createApiWrapper=function(e){var t={},n=Array.prototype.slice.call(arguments,1);return array.forEach(n,function(n){object.forEach(n,function(n,r){if("_"!=r[0]){if("undefined"==typeof e[r])throw new NotImplementedException(r);"function"==typeof e[r]?t[r]=function(){return e[r].apply(e,arguments)}:t[r]=e[r]}})}),t};var Event=exports.Event=function(e,t,n){this.type=e,this.target=n||null,this.result=null,"object"==typeof t&&object.mixin(this,t)},IEventTarget=exports.IEventTarget=function(){};IEventTarget.prototype={addEventListener:function(e,t){throw new NotImplementedException},removeEventListener:function(e,t){throw new NotImplementedException}};var EventTarget=exports.EventTarget=function(){this._eventListeners={}};EventTarget.prototype={dispatchEvent:function(e,t){var n=e.type.toLowerCase();if("undefined"!=typeof this._eventListeners[n]){for(var r=this._eventListeners[n],o=0;o<r.length;o++){var i=!1;if("unknown"==typeof r[o].call)i=!0;else{try{var a=r[o](e)}catch(u){if(-2146828218!=u.number&&-2146823277!=u.number)throw u;i=!0}"undefined"!=typeof a&&"undefined"!=typeof t&&(t.value=a)}i&&(r.splice(o,1),o--)}return!0}return!1},fireEvent:function(e,t){var n={value:null},r=this.dispatchEvent(new Event(e,t),n);return r&&null!=n.value&&(t.result=n.value),r},addEventListener:function(e,t){if("undefined"!=typeof t.call&&"undefined"!=typeof t.apply){for(var n=e.toLowerCase(),r=this._eventListeners[n]=this._eventListeners[n]||[],o=0;o<r.length;o++)if(r[o]==t)return!1;return r.push(t),!0}return!1},removeEventListener:function(e,t){var n=e.toLowerCase();if("undefined"!=typeof this._eventListeners[n])for(var r=this._eventListeners[n],o=0;o<r.length;o++)if(r[o]==t)return r.splice(o,1),!0;return!1},removeAllEventListeners:function(){this._eventListeners={}}};var array=exports.array={map:function(e,t,n){for(var r=e.length,o=new Array(r),i=0;r>i;i++)o[i]=t.call(n||null,e[i],i);return o},forEach:function(e,t,n){for(var r=e.length,o=0;r>o;o++)t.call(n||null,e[o],o)},filter:function(e,t,n){for(var r=[],o=e.length,i=0;o>i;i++)t.call(n||null,e[i],i)&&r.push(e[i]);return r},remove:function(e,t){for(var n;-1!=(n=e.indexOf(t));)e.splice(n,1)}},string=exports.string={format:function(e,t){if("object"==typeof t&&null!=t)object.forEach(t,function(n,r){e=e.replace(new RegExp("\\{"+r+"}","g"),t[r])});else for(var n=1;n<arguments.length;n++)e=e.replace(new RegExp("\\{"+(n-1)+"}","g"),arguments[n]);return e},isAlpha:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e},isDigit:function(e){return e>="0"&&"9">=e},parseUri:function(e){var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=e.match(t);return{scheme:n[2],authority:n[4],path:n[5],query:n[7],fragment:n[9]}},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},object=exports.object={getKeys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},isArray:function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},isObject:function(e){return"object"==typeof e||"[object Object]"==Object.prototype.toString.call(e)},isString:function(e){return"string"==typeof e||e instanceof String},clone:function(e){return JSON.parse(JSON.stringify(e))},copy:function(e){var t={};return this.forEach(e,function(e,n){t[n]=e}),t},sanitize:function(e){return JSON.parse(JSON.stringify(e))},resolveName:function(e,t){for(var n=e,r=t.split("."),o=r.pop(),i=0;i<r.length;i++)n=n[r[i]];return{parent:n,terminalName:o}},resolveOrCreateName:function(e,t){for(var n=e,r=t.split("."),o=r.pop(),i=0;i<r.length;i++)n[r[i]]=n[r[i]]||{},n=n[r[i]];return{parent:n,terminalName:o,setValue:function(e){n[o]=e}}},forEach:function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n||null,e[r],r)},extend:function(e,t){return this.mixin(this.create(e.prototype),t)},mixin:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},create:function(e){var t=function(){};return t.prototype=e,new t},freeze:function(e){return Object.freeze?Object.freeze(e):e}},date=exports.date={diff:function(e,t){return Math.ceil((e.getTime()-t.getTime())/1e3)||0}},func=exports.func={isCallable:function(e){return"function"==typeof e||e&&"undefined"!=typeof e.call&&"undefined"!=typeof e.apply},bind:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments,0)))}},invoke:function(e,t,n){var r=object.resolveName(e,t),o=r.parent;return o[r.terminalName].apply(o,n)},decorate:function(e,t){return function(){return t.call(this,e,arguments)}}},utils=exports.utils={getDomainFromId:function(e){for(var t="",n=0;n<e.length;n++)(string.isAlpha(e[n])||string.isDigit(e[n])||"-"==e[n])&&(t+=e[n]);return t.toLowerCase()}};