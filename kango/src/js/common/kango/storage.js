function IStorage(){}function JSONStorage(e){EventTarget.call(this),this._storageEngine=e}function getPublicApi(){return utils.createApiWrapper(module.exports.storage,IStorage.prototype)}var utils=require("kango/utils"),array=utils.array,object=utils.object,EventTarget=utils.EventTarget,NotImplementedException=utils.NotImplementedException;IStorage.prototype={setItem:function(e,t){throw new NotImplementedException},getItem:function(e){throw new NotImplementedException},removeItem:function(e){throw new NotImplementedException},getKeys:function(){throw new NotImplementedException},clear:function(){throw new NotImplementedException}},JSONStorage.prototype=object.extend(EventTarget,{_storageEngine:null,getItem:function(e){var t=this._storageEngine.getItem(e);return"undefined"!=typeof t&&null!=t?JSON.parse(t):null},setItem:function(e,t){if("undefined"==typeof t)return this.removeItem(e);var n=JSON.stringify(t);return"undefined"!=typeof n&&(this._storageEngine.setItem(e,n),this.fireEvent("setItem",{data:{name:e,value:t}})),!1},removeItem:function(e){this._storageEngine.removeItem(e),this.fireEvent("removeItem",{data:{name:e}})},getKeys:function(){return this._storageEngine.getKeys()},getItems:function(){var e={};return array.forEach(this.getKeys(),function(t){e[t]=this.getItem(t)},this),e},clear:function(){this._storageEngine.clear(),this.fireEvent("clear")},dispose:function(){this.removeAllEventListeners(),"undefined"!=typeof this._storageEngine.dispose&&this._storageEngine.dispose(),this._storageEngine=null}});